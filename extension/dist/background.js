chrome.runtime.onInstalled.addListener((()=>{console.log("GitHub Portfolio Builder 확장 프로그램이 설치되었습니다.")})),chrome.tabs.onUpdated.addListener(((e,o,r)=>{"complete"===o.status&&r.url&&r.url.includes("github.com")&&chrome.action.setIcon({tabId:e,path:{16:"icons/icon16.png",48:"icons/icon48.png",128:"icons/icon128.png"}})})),chrome.runtime.onMessage.addListener(((e,o,r)=>{if(console.log("메시지 수신:",e),"getCurrentRepo"===e.action)return chrome.tabs.query({active:!0,currentWindow:!0},(e=>{if(!e||0===e.length)return void r({error:"활성화된 탭을 찾을 수 없습니다."});const o=e[0].url;if(o)if(o.includes("github.com/")&&o.split("github.com/").length>1){const e=o.split("github.com/")[1].split("/");if(e.length>=2){const t=e[0],n=e[1];r({owner:t,repo:n,repoUrl:o})}else r({error:"GitHub 레포지토리를 찾을 수 없습니다."})}else r({error:"GitHub 페이지가 아닙니다."});else r({error:"URL을 확인할 수 없습니다."})})),!0}));